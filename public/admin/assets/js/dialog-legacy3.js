System.register(["./element-plus-legacy.js","./@vue-legacy.js","./@element-plus-legacy.js","./index-legacy.js"],function(e,a){"use strict";var l,o,t,d,r,i,n,u,s,m,c,p,f,_,h,y,v,g,b,V,C,k,x,w,S,U,M,B,A,P,D,L,$,j,q,E;return{setters:[e=>{l=e.q,o=e.r,t=e.B,d=e.C,r=e.J,i=e.s,n=e.b,u=e.g,s=e.D,m=e.u,c=e.G,p=e.a},e=>{f=e.b,_=e.r,h=e.V,y=e.w,v=e.ai,g=e.c,b=e.o,V=e.U,C=e.K,k=e.J,x=e.G,w=e.a2,S=e.a,U=e.M,M=e.L,B=e.H,A=e.aa,P=e.O},e=>{D=e.G},e=>{L=e.h,$=e.A,j=e._,q=e.t,E=e.a}],execute:function(){var a=document.createElement("style");a.textContent=".icon-list[data-v-87ea3348]{max-height:60vh;overflow-y:auto}.icon-item[data-v-87ea3348]{padding:12px;cursor:pointer;transition:all .3s}.icon-item[data-v-87ea3348]:hover{background-color:var(--el-color-primary-light-9)}.icon-wrapper[data-v-87ea3348]{display:flex;flex-direction:column;align-items:center;gap:8px}.icon[data-v-87ea3348]{width:2em;height:2em}.icon-name[data-v-87ea3348]{font-size:12px;text-align:center;word-break:break-all}.icon-suffix[data-v-87ea3348]{width:1em;height:1em;vertical-align:middle}.icon-suffix-container[data-v-87ea3348]{display:flex;align-items:center;gap:8px;padding-right:8px}.clear-icon[data-v-87ea3348]{cursor:pointer;color:#999;transition:color .2s}.clear-icon[data-v-87ea3348]:hover{color:#666}.selected-icon[data-v-87ea3348]{width:1em;height:1em}\n/*$vite$:1*/",document.head.appendChild(a);let G=e("l",(e={})=>L({url:`${$.BASE_API}/base/menu/list`,method:"get",params:e}));e("r",(e={})=>L({url:`${$.BASE_API}/base/menu/delete`,method:"get",params:e}));const I={class:"icon-suffix-container"},O={key:4},F={class:"dialog-footer"},N={class:"icon-list"},R={class:"icon-wrapper"},z={class:"icon-name"},H={__name:"dialog",props:{visible:{type:Boolean,default:!1},id:{type:Number,default:0}},emits:["update:visible","success"],setup(e,{emit:a}){const j=e,H=a,J=f({get:()=>j.visible,set:e=>H("update:visible",e)}),K=_(null),T=h({menus:[],form:{id:0,pid:"",title:"",name:"",order_num:"0",path:"",component:"",is_frame:"2",type:"M",is_show:"1",is_cache:"2",perms:"",icon:""}});y(()=>j.visible,async e=>{if(e){ee();const e=Number(j.id)||0;T.form.id=e,Q()}});const Q=async()=>{try{let e=T.form.id,a=await((e={})=>L({url:`${$.BASE_API}/base/menu/detail`,method:"get",params:e}))({id:e});200==a.code&&(T.form=a.data)}catch(e){console.error(e)}},W=async()=>{try{let{id:e,...a}=T.form,l=a;e>0&&(l.id=e);const o=await((e={})=>L({url:`${$.BASE_API}/base/menu/create`,method:"post",data:e}))(l);200===o.code?(p({message:"创建成功 ^_^",type:"success"}),Y()):p({message:o.msg,type:"error"})}catch(e){console.log(e)}},X=async()=>{try{let e=T.form;const a=await((e={})=>L({url:`${$.BASE_API}/base/menu/update`,method:"post",data:e}))(e);200===a.code?(p({message:"更新成功 ^_^",type:"success"}),Y()):p({message:a.msg,type:"error"})}catch(e){console.log(e)}},Y=()=>{H("update:visible",!1),Z()},Z=()=>{T.form={id:0,pid:"",title:"",name:"",order_num:"0",path:"",component:"",is_frame:"2",type:"M",is_show:"1",is_cache:"2",perms:"",icon:""},T.menus=[]},ee=async()=>{try{const e=await G();if(200===e.code){const a={id:0,label:"主类目",children:[]},l=q(e.data.list),o=E(l,"title","id");a.children=o,T.menus=[a]}}catch(e){console.log(e)}};ee();const ae=_(!1),le=_(["DataLine","Monitor","Grid","MagicStick","Operation","Setting","User","House","Notification","MessageBox","DataBoard","Notebook","Collection","Postcard","SetUp","DataAnalysis","CreditCard","Cpu","Link","Connection","Position","Odometer","ChatLineRound","ChatSquare","ChatRound","ChatLineSquare","ChatDotSquare","Bell","PieChart","Compass","Filter","Message","MessageBox","Crop","SwitchButton","Operation","DataLine","Monitor","Location","Guide","Box","MagicStick","Goods","Coin"]),oe=()=>{T.form.icon="",K.value&&K.value.validateField("icon")};return(e,a)=>{const p=d,f=t,_=o,h=r,y=i,L=v("Close"),$=n,j=l,q=u,E=s,G=c,H=m;return b(),g(B,null,[V(E,{modelValue:J.value,"onUpdate:modelValue":a[13]||(a[13]=e=>J.value=e),title:"编辑",onClose:Y},{footer:C(()=>[S("span",F,[V(q,{onClick:U(Y,["stop"])},{default:C(()=>[...a[22]||(a[22]=[w("取消",-1)])]),_:1}),V(q,{type:"primary",onClick:a[12]||(a[12]=e=>(e=>{e&&e.validate(e=>{if(!e)return console.log("error submit!!"),!1;T.form.id?X():W()})})(K.value))},{default:C(()=>[...a[23]||(a[23]=[w("确定",-1)])]),_:1})])]),default:C(()=>[V(j,{model:T.form,ref_key:"formRef",ref:K,"label-width":"84px"},{default:C(()=>[V(_,{label:"节点类型",prop:"type"},{default:C(()=>[V(f,{modelValue:T.form.type,"onUpdate:modelValue":a[0]||(a[0]=e=>T.form.type=e)},{default:C(()=>[V(p,{label:"目录",value:"M"},{default:C(()=>[...a[15]||(a[15]=[w("目录",-1)])]),_:1}),V(p,{label:"菜单",value:"C"},{default:C(()=>[...a[16]||(a[16]=[w("菜单",-1)])]),_:1}),V(p,{label:"按钮",value:"F"},{default:C(()=>[...a[17]||(a[17]=[w("按钮",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),V(_,{label:"上级节点",prop:"pid"},{default:C(()=>[V(h,{modelValue:T.form.pid,"onUpdate:modelValue":a[1]||(a[1]=e=>T.form.pid=e),data:T.menus,"render-after-expand":!1,"check-strictly":"","show-count":!0,"node-key":"id",class:"w-full"},null,8,["modelValue","data"])]),_:1}),V(_,{label:"节点名称",prop:"title"},{default:C(()=>[V(y,{modelValue:T.form.title,"onUpdate:modelValue":a[2]||(a[2]=e=>T.form.title=e),placeholder:"请输入节点名称"},null,8,["modelValue"])]),_:1}),"F"!==T.form.type?(b(),k(_,{key:0,label:"节点图标"},{default:C(()=>[V(y,{modelValue:T.form.icon,"onUpdate:modelValue":a[3]||(a[3]=e=>T.form.icon=e),placeholder:"点击选择图标",readonly:"",onClick:a[4]||(a[4]=e=>ae.value=!0)},{suffix:C(()=>[S("span",I,[T.form.icon?(b(),k($,{key:0,class:"clear-icon",onClick:U(oe,["stop"])},{default:C(()=>[V(L)]),_:1})):x("",!0),T.form.icon?(b(),k(M(T.form.icon),{key:1,class:"selected-icon"})):x("",!0)])]),_:1},8,["modelValue"])]),_:1})):x("",!0),"F"!==T.form.type?(b(),k(_,{key:1,label:"显示排序",prop:"order_num"},{default:C(()=>[V(y,{modelValue:T.form.order_num,"onUpdate:modelValue":a[5]||(a[5]=e=>T.form.order_num=e),type:"number",placeholder:"请输入菜单排序"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type||"M"==T.form.type?(b(),k(_,{key:2,label:"路由名称",prop:"name"},{default:C(()=>[V(y,{modelValue:T.form.name,"onUpdate:modelValue":a[6]||(a[6]=e=>T.form.name=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type||"M"==T.form.type?(b(),k(_,{key:3,label:"路由地址"},{default:C(()=>[V(y,{modelValue:T.form.path,"onUpdate:modelValue":a[7]||(a[7]=e=>T.form.path=e),placeholder:"请输入路由地址"},null,8,["modelValue"])]),_:1})):x("",!0),"C"==T.form.type?(b(),g("div",O,[V(_,{label:"组件路径"},{default:C(()=>[V(y,{modelValue:T.form.component,"onUpdate:modelValue":a[8]||(a[8]=e=>T.form.component=e),placeholder:"请输入组件路径"},null,8,["modelValue"])]),_:1}),V(_,{label:"是否缓存"},{default:C(()=>[V(f,{modelValue:T.form.is_cache,"onUpdate:modelValue":a[9]||(a[9]=e=>T.form.is_cache=e)},{default:C(()=>[V(p,{label:"缓存",value:"1"},{default:C(()=>[...a[18]||(a[18]=[w("缓存",-1)])]),_:1}),V(p,{label:"不缓存",value:"2"},{default:C(()=>[...a[19]||(a[19]=[w("不缓存",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),V(_,{label:"显示状态"},{default:C(()=>[V(f,{modelValue:T.form.is_show,"onUpdate:modelValue":a[10]||(a[10]=e=>T.form.is_show=e)},{default:C(()=>[V(p,{label:"显示",value:"1"},{default:C(()=>[...a[20]||(a[20]=[w("显示",-1)])]),_:1}),V(p,{label:"隐藏",value:"2"},{default:C(()=>[...a[21]||(a[21]=[w("隐藏",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])):x("",!0),V(_,{label:"权限字符",rules:[{required:!0,message:"请输入权限字符",trigger:"blur"}]},{default:C(()=>[V(y,{modelValue:T.form.perms,"onUpdate:modelValue":a[11]||(a[11]=e=>T.form.perms=e),require:"",placeholder:"请输入权限标识"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),V(E,{modelValue:ae.value,"onUpdate:modelValue":a[14]||(a[14]=e=>ae.value=e),title:"选择图标",width:"60%","append-to-body":""},{default:C(()=>[S("div",N,[V(H,{gutter:20},{default:C(()=>[(b(!0),g(B,null,A(le.value,e=>(b(),k(G,{key:e,xs:8,sm:6,md:4,lg:3,xl:2,class:"icon-item",onClick:a=>(e=>{T.form.icon=e,ae.value=!1})(e)},{default:C(()=>[S("div",R,[(b(),k(M(D[e]),{class:"icon"})),S("span",z,P(e),1)])]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["modelValue"])],64)}}},J=e("D",j(H,[["__scopeId","data-v-87ea3348"]])),K=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));e("d",K)}}});
