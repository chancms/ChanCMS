System.register(["./element-plus-legacy.js","./@element-plus-legacy.js","./index-legacy.js","./dialog-legacy4.js","./dayjs-legacy.js","./@vue-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./ace-builds-legacy.js","./@fingerprintjs-legacy.js","./tslib-legacy.js","./saduo-legacy.js"],function(l,e){"use strict";var a,i,s,o,n,c,t,d,r,u,y,g,p,f,m,j,b,k,v,w,_,h,V,x,C,Y,D,H,U,q,z;return{setters:[l=>{a=l.r,i=l.s,s=l.g,o=l.q,n=l.I,c=l.v,t=l.x,d=l.a},l=>{r=l.I,u=l.H,y=l.F},l=>{g=l.t,p=l.a},l=>{f=l.l,m=l.D,j=l.r},l=>{b=l.d},l=>{k=l.V,v=l.n,w=l.w,_=l.r,h=l.aq,V=l.c,x=l.o,C=l.a,Y=l.U,D=l.K,H=l.u,U=l.a2,q=l.R,z=l.J},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const e={class:"bg-fff radius-6 pd-20 mb-10"},I={class:"bg-fff radius-6 pd-20"},M={class:"flex justify-end"},R={key:0},S={key:1};l("default",{__name:"index",setup(l){const E=k({dialogVisible:!1,id:0,params:{},list:[]});v(()=>{F()}),w(()=>E.dialogVisible,l=>{l||F()});const F=async()=>{try{const l=await f();200===l.code&&(l.data.list.forEach(l=>{l.id=Number(l.id),l.create_time=b(l.create_time).format("YYYY-MM-DD HH:mm:ss")}),E.list=l.data.list,N.value=!1)}catch(l){console.log(l)}},J=()=>{E.id=0,E.dialogVisible=!0},K=k({keywords:""}),N=_(!0),T=_([]),A=_(null),B=_([]),G=()=>{K.keywords="",T.value=[],B.value=[],L()},L=async()=>{try{const l=K.keywords,e=await fetch(l);if(200===e.code){const l=g(e.data);T.value=p(l),N.value=!1}}catch(l){console.log(l)}};return v(()=>{L()}),(l,g)=>{const p=i,f=a,b=s,k=o,v=c,w=t,_=h("permission-disabled"),T=n;return x(),V("div",null,[C("div",e,[Y(k,{inline:!0,model:K},{default:D(()=>[Y(f,{label:"名称",prop:"keywords"},{default:D(()=>[Y(p,{placeholder:"请输入栏目名称","suffix-icon":H(r),modelValue:K.keywords,"onUpdate:modelValue":g[0]||(g[0]=l=>K.keywords=l),clearable:""},null,8,["suffix-icon","modelValue"])]),_:1}),Y(f,null,{default:D(()=>[Y(b,{type:"primary",onClick:L,round:""},{default:D(()=>[...g[2]||(g[2]=[U("搜索",-1)])]),_:1}),Y(b,{onClick:G,round:""},{default:D(()=>[...g[3]||(g[3]=[U("清空",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),C("div",I,[C("div",M,[q((x(),z(b,{type:"primary",onClick:J,round:""},{default:D(()=>[...g[4]||(g[4]=[U("新增",-1)])]),_:1})),[[_,["editor","admin","super"]]])]),q((x(),z(w,{ref_key:"multipleTableRef",ref:A,data:E.list,"tooltip-effect":"dark","row-key":"id"},{default:D(()=>[Y(v,{prop:"id",label:"角色编号"}),Y(v,{prop:"name",align:"center",label:"角色名称"}),Y(v,{prop:"key",align:"center",label:"权限标识"}),Y(v,{prop:"status",label:"状态"},{default:D(l=>["1"==l.row.status?(x(),V("p",R,"启用")):(x(),V("p",S,"停用"))]),_:1}),Y(v,{fixed:"right",label:"操作",width:"160"},{default:D(l=>[q(Y(b,{icon:H(u),circle:"",onClick:e=>{return a=l.row,E.id=a.id,void(E.dialogVisible=!0);var a}},null,8,["icon","onClick"]),[[_,["editor","admin","super"]]]),q(Y(b,{icon:H(y),circle:"",onClick:e=>(async l=>{console.log(l);try{200===(await j({id:l.id})).code&&(d({message:"删除成功",type:"success"}),F())}catch(e){console.log(e)}})(l.row)},null,8,["icon","onClick"]),[[_,["editor","admin","super"]]])]),_:1})]),_:1},8,["data"])),[[T,N.value]])]),Y(m,{visible:E.dialogVisible,"onUpdate:visible":g[1]||(g[1]=l=>E.dialogVisible=l),id:E.id,onSuccess:F},null,8,["visible","id"])])}}})}}});
