System.register(["./element-plus-legacy.js","./vue3-ace-editor-legacy.js","./ace-builds-legacy.js","./codefile-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./resize-observer-polyfill-legacy.js","./js-cookie-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(e,a){"use strict";var l,t,r,o,n,s,u,c,d,i,f,p,v,g,h,b,m,y,x,_,k,w,j,C,S,z,L,N,$,A;return{setters:[e=>{l=e.G,t=e.X,r=e.g,o=e.b,n=e.u,s=e.K,u=e.a},e=>{c=e.V},null,e=>{d=e.g,i=e.a,f=e.s},e=>{p=e._},e=>{v=e.r,g=e.e,h=e.n,b=e.p,m=e.ab,y=e.c,x=e.o,_=e.O,k=e.a,w=e.L,j=e.a3,C=e.Q,S=e.K,z=e.J,L=e.u,N=e.H,$=e.I,A=e.ac},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".editor-container[data-v-ff467741]{height:calc(100vh - 109px);display:flex;flex-direction:column;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#1a202c;border-radius:4px}.toolbar[data-v-ff467741]{background-color:#565656;border-top-left-radius:4px;border-top-right-radius:4px}.toolbar .el-button-group[data-v-ff467741]{display:flex}.toolbar .el-button-group .el-button[data-v-ff467741]{display:flex;align-items:center;gap:5px;background-color:#565656;border:none;color:#e5eaef;transition:all .2s}.toolbar .el-button-group .el-button.el-button--primary[data-v-ff467741]{background:center center #4a54ff;background-image:linear-gradient(315deg,#6772ff 0,#20c43d);background-size:104% 104%;color:#fff}.toolbar .el-button-group .el-button[data-v-ff467741]:hover{background-color:#3e4a5e}.toolbar .el-button-group .el-button[data-v-ff467741]:disabled{opacity:.6;cursor:not-allowed}.path-nav[data-v-ff467741]{word-break:break-all;padding:10px 15px}.path-nav .el-breadcrumb[data-v-ff467741]{flex-grow:1}.path-nav .el-breadcrumb[data-v-ff467741] .el-breadcrumb__item{cursor:pointer}.path-nav .el-breadcrumb[data-v-ff467741] .el-breadcrumb__item:hover{color:#63b3ed}.main-content[data-v-ff467741]{display:flex;overflow:hidden}.file-tree[data-v-ff467741]{width:175px;height:100%;overflow-y:auto;border-right:1px solid #4a5568}.file-tree[data-v-ff467741] .el-tree{background-color:transparent;color:#1a202c}.file-tree[data-v-ff467741] .el-tree .el-tree-node{margin:5px 0}.file-tree[data-v-ff467741] .el-tree .el-tree-node__content{height:36px;padding:0 8px;transition:background-color .2s}.file-tree[data-v-ff467741] .el-tree .el-tree-node__content:hover{background-color:rgba(66,153,225,.1)}.file-tree[data-v-ff467741] .el-tree .el-tree-node.is-current>.el-tree-node__content{background-color:rgba(66,153,225,.2);border-left:2px solid #4299e1}.file-tree[data-v-ff467741] .el-tree .el-tree-node__expand-icon{color:#cbd5e0;font-size:16px}.file-tree[data-v-ff467741] .el-tree .el-tree-node__expand-icon.expanded{transform:rotate(0)}.file-tree .tree-node[data-v-ff467741]{padding:3px 0;font-size:14px;width:100%}.file-tree .node-label[data-v-ff467741]{flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-tree .file-badge[data-v-ff467741]{background-color:#4a5568;border-radius:3px;padding:0 4px;color:#cbd5e0}.editor-area[data-v-ff467741]{width:calc(100% - 160px);height:100%;position:relative}.editor-area .editor-wrapper[data-v-ff467741]{height:100%}.editor-area .welcome-screen[data-v-ff467741]{background-color:#1a202c;text-align:center}.editor-area .welcome-screen .supported-files[data-v-ff467741]{margin-top:30px}.editor-area .status-bar[data-v-ff467741]{z-index:100}\n/*$vite$:1*/",document.head.appendChild(a);const U={class:"editor-container bg-fff"},I={class:"main-content",style:{height:"calc(100vh - 90px)"}},T={span:4,class:"file-tree overflow-auto bg-gray-800"},E={class:"tree-node flex items-center"},J={class:"node-label"},K={span:20,class:"editor-area bg-gray-900"},M={key:0,class:"editor-wrapper h-full relative"},O={class:"status-bar absolute bottom-0 left-0 right-0 bg-gray-800 text-gray-400 text-xs p-2 flex justify-between"},B={class:"ml-3"},G={key:0},H={key:1,class:"welcome-screen h-full flex flex-col justify-center items-center text-gray-500"},V={class:"supported-files flex mt-8 gap-6"};e("default",p({__name:"index",setup(e){const a=v([]),p=v([]),W=v("/"),F=v(null),P=v(""),Q=v(""),R=v(!1),X=v(null),q=v(null),D=v(!1),Y=v(!1),Z=v(null),ee=v(""),ae=v(!1),le=v("html"),te=e=>{le.value=e,console.log("type---\x3e",e),me()},re=v([{ext:"html",name:"HTML",color:"text-pink-400"},{ext:"css",name:"CSS",color:"text-green-400"},{ext:"js",name:"JavaScript",color:"text-blue-400"},{ext:"json",name:"JSON",color:"text-yellow-400"}]),oe=g(()=>({fontSize:14,tabSize:2,useWorker:!0,showPrintMargin:Y.value,showLineNumbers:!0,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,behavioursEnabled:!0,wrap:D.value})),ne={children:"children",label:"name"},se=g(()=>{if(!F.value)return"text";switch(ce(F.value.name)){case"html":return"html";case"css":return"css";case"js":return"javascript";case"json":return"json";default:return"text"}}),ue=(e,a)=>!e||a.name.toLowerCase().includes(e.toLowerCase());h(()=>{me()});const ce=e=>e.split(".").pop()||"",de=e=>/\.html?$/.test(e),ie=e=>/\.css$/.test(e),fe=e=>/\.json$/.test(e),pe=e=>{q.value=e,e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),e.selection.on("changeCursor",()=>{Z.value=e.selection.getCursor()})},ve=()=>{R.value=P.value!==Q.value},ge=async e=>{try{const a=await i({path:e.path});if(200==a.code){const l=a.data;P.value=l,Q.value=l,R.value=!1;const t=ce(e.name);ee.value=t.toUpperCase(),F.value=e}}catch(a){console.error("打开文件失败:",a),u.error("打开文件失败，请重试")}},he=async()=>{if(F.value&&R.value)try{await f({path:F.value.path,content:P.value}),Q.value=P.value,R.value=!1,u.success("文件保存成功")}catch(e){console.error("保存文件失败:",e),u.error("保存文件失败，请重试")}},be=e=>{X.value&&setTimeout(()=>{try{const a=X.value.getNode(e);a&&!a.expanded&&X.value.store.setExpanded(e,!0)}catch(a){console.warn("展开节点失败",a)}},100)},me=async()=>{try{const e=await d({type:le.value});a.value=e.data,p.value=e.data,b(()=>{if(X.value&&!ae.value&&p.value.length>0){const e=p.value.find(e=>"file"===e.type);e&&(je(e),ge(e)),ae.value=!0}})}catch(e){console.error("加载文件树失败:",e)}},ye=()=>{q.value&&q.value.execCommand("find")},xe=()=>{q.value&&q.value.execCommand("replace")},_e=()=>{q.value&&q.value.execCommand("gotoline")},ke=()=>{D.value=!D.value,q.value&&q.value.session.setUseWrapMode(D.value)},we=()=>{Y.value=!Y.value},je=(e,a)=>{X.value&&e.path&&X.value.setCurrentKey(e.path),"file"===e.type?ge(e):(W.value=e.path,a.childNodes&&0!==a.childNodes.length?be(e.path):Ce(e.path))},Ce=async e=>{try{const l=await d({type:le.value}),t=(e,a,l)=>{for(let r=0;r<e.length;r++){const o=e[r];if(o.path===a)return o.children=l,!0;if(o.children&&o.children.length&&t(o.children,a,l))return!0}return!1};t(a.value,e,l.data),p.value=[...a.value],be(e)}catch(l){console.error("加载子目录失败:",l)}};return(e,a)=>{const u=m("document-add"),d=o,i=r,f=m("refresh"),v=m("search"),g=m("position"),h=m("border"),b=t,W=l,Q=n,q=m("folder"),ae=m("document"),ce=s;return x(),y("div",U,[_(Q,{class:"toolbar bg-gray-800 text-white"},{default:w(()=>[_(W,{span:24,class:"flex items-center"},{default:w(()=>[_(b,{gap:"0"},{default:w(()=>[_(i,{type:"primary",onClick:he,disabled:!R.value},{default:w(()=>[_(d,null,{default:w(()=>[_(u)]),_:1}),a[3]||(a[3]=j(" 保存 "))]),_:1},8,["disabled"]),_(i,{onClick:me},{default:w(()=>[_(d,null,{default:w(()=>[_(f)]),_:1}),a[4]||(a[4]=j(" 刷新 "))]),_:1}),_(i,{onClick:ye},{default:w(()=>[_(d,null,{default:w(()=>[_(v)]),_:1}),a[5]||(a[5]=j(" 搜索 "))]),_:1}),_(i,{onClick:xe},{default:w(()=>[_(d),a[6]||(a[6]=j(" 替换 "))]),_:1}),_(i,{onClick:_e},{default:w(()=>[_(d,null,{default:w(()=>[_(g)]),_:1}),a[7]||(a[7]=j(" 跳转 "))]),_:1}),_(i,{onClick:ke},{default:w(()=>[_(d,null,{default:w(()=>a[8]||(a[8]=[k("switch",null,null,-1)])),_:1}),j(" "+C(D.value?"不换行":"换行"),1)]),_:1}),_(i,{onClick:we},{default:w(()=>[_(d,null,{default:w(()=>[_(h)]),_:1}),j(" "+C(Y.value?"隐藏边线":"显示边线"),1)]),_:1})]),_:1})]),_:1})]),_:1}),k("div",I,[k("div",T,[_(Q,{class:"mb-4 pd-10"},{default:w(()=>[_(i,{type:"html"==le.value?"primary":"default",onClick:a[0]||(a[0]=e=>te("html"))},{default:w(()=>a[9]||(a[9]=[j("html")])),_:1},8,["type"]),_(i,{type:"css"==le.value?"primary":"default",onClick:a[1]||(a[1]=e=>te("static"))},{default:w(()=>a[10]||(a[10]=[j("static")])),_:1},8,["type"])]),_:1}),_(ce,{ref_key:"treeRef",ref:X,data:p.value,props:ne,"filter-node-method":ue,"node-key":"path","highlight-current":"","current-node-key":F.value?.path,onNodeClick:je},{default:w(({node:e,data:a})=>[k("span",E,[_(d,{class:"mr-2"},{default:w(()=>{return["directory"===a.type?(x(),S(q,{key:0,class:"text-amber-400"})):(x(),S(ae,{key:1,class:z({"text-blue-400":(e=a.name,/\.js$/.test(e)),"text-pink-400":de(a.name),"text-green-400":ie(a.name),"text-yellow-400":fe(a.name)})},null,8,["class"]))];var e}),_:2},1024),k("span",J,C(e.label),1)])]),_:1},8,["data","current-node-key"])]),k("div",K,[F.value?(x(),y("div",M,[_(L(c),{value:P.value,"onUpdate:value":a[2]||(a[2]=e=>P.value=e),lang:se.value,theme:"monokai",style:{height:"100%"},options:oe.value,onInit:pe,onChange:ve},null,8,["value","lang","options"]),k("div",O,[k("div",null,[k("span",null,C(ee.value),1),a[11]||(a[11]=k("span",{class:"ml-3"},"编码: UTF-8",-1)),k("span",B,C(D.value?"换行":"不换行"),1)]),k("div",null,[Z.value?(x(),y("span",G,"行 "+C(Z.value.row+1)+", 列 "+C(Z.value.column+1),1)):N("",!0)])])])):(x(),y("div",H,[_(d,{class:"text-5xl mb-4"},{default:w(()=>[_(ae)]),_:1}),a[12]||(a[12]=k("h2",{class:"text-xl mb-2"},"欢迎使用在线文件编辑器",-1)),a[13]||(a[13]=k("p",null,"请从左侧文件树中选择一个文件进行编辑",-1)),k("div",V,[(x(!0),y($,null,A(re.value,e=>(x(),y("div",{class:"file-type flex flex-col items-center",key:e.ext},[_(d,{class:z([e.color,"text-4xl mb-2"])},{default:w(()=>[_(ae)]),_:2},1032,["class"]),k("span",null,C(e.name),1)]))),128))])]))])])])}}},[["__scopeId","data-v-ff467741"]]))}}});
