System.register(["./element-plus-legacy.js","./index-legacy23.js","./config-legacy.js","./qiniu-legacy.js","./wechat-legacy.js","./upload-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./ace-builds-legacy.js","./@element-plus-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduo-legacy.js"],function(e,l){"use strict";var a,t,o,n,s,d,u,i,r,c,m,p,g,f,y,_,V,j,b,w,h,v,x,k,U,C,q,O,z,S;return{setters:[e=>{a=e.n,t=e.q,o=e.r,n=e.s,s=e.W,d=e.S,u=e.T,i=e.b,r=e.U,c=e.g,m=e.m,p=e.a},e=>{g=e.g,f=e.u},e=>{y=e.default},e=>{_=e.default},e=>{V=e.default},e=>{j=e.u},e=>{b=e._},e=>{w=e.r,h=e.W,v=e.n,x=e.ab,k=e.c,U=e.o,C=e.O,q=e.L,O=e.K,z=e.H,S=e.a3},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".logo[data-v-f33275dc]{width:100%;max-width:80px;height:auto}\n/*$vite$:1*/",document.head.appendChild(l);const E={class:"bg-fff radius-6 pd-20"};e("default",b({__name:"index",setup(e){const l=w("first"),b=w(null),I=w(null),L=h({id:"",name:"",domain:"",logo:"",email:"",icp:"",code:""}),R=h({id:"",title:"",keywords:"",description:""});async function T(){try{const e=await g();if(200===e.code){const{id:l,name:a,domain:t,logo:o,email:n,icp:s,title:d,keywords:u,description:i}=e.data;Object.assign(L,{id:l,name:a,logo:o,domain:t,email:n,icp:s}),Object.assign(R,{id:l,title:d,keywords:u,description:i})}else p({message:e.msg,type:"warning"})}catch(e){console.error(e)}}const W=e=>-1===e.type.indexOf("image")?(p("上传文件只能是图片格式"),!1):!(e.size/1024/1024>.2&&(p("上传图片必须小于200k"),1)),$=async e=>{const l=new FormData;l.append("file",e.file);const a=await j(l,"5");200===a.code&&(L.logo=a.data.path)};async function D(e){try{const l=await f(e);200===l.code?(p({message:"更新成功^_^",type:"success"}),await T()):p({message:l.msg,type:"warning"})}catch(l){console.error(l)}}function F(e){l.value=e.paneName}function H(e){e.validate(async e=>{e?"first"===l.value?await D(L):await D(R):console.log("error submit!!")})}return v(T),(e,p)=>{const g=n,f=o,j=x("MostlyCloudy"),w=i,h=u,v=d,T=r,D=s,K=c,M=t,N=a,P=m;return U(),k("div",E,[C(P,{modelValue:l.value,"onUpdate:modelValue":p[11]||(p[11]=e=>l.value=e),onTabClick:F},{default:q(()=>[C(N,{label:"基本设置",class:"mt-20",name:"first"},{default:q(()=>[C(M,{ref_key:"infoRef",ref:b,model:L,"label-width":"84px"},{default:q(()=>[C(f,{label:"网站名称",prop:"name",rules:[{required:!0,message:"请输入网站名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},{default:q(()=>[C(g,{modelValue:L.name,"onUpdate:modelValue":p[0]||(p[0]=e=>L.name=e)},null,8,["modelValue"])]),_:1}),C(f,{label:"Logo"},{default:q(()=>[C(g,{modelValue:L.logo,"onUpdate:modelValue":p[1]||(p[1]=e=>L.logo=e)},null,8,["modelValue"]),C(D,{class:"mt-10"},{default:q(()=>[C(v,{class:"avatar-uploader","http-request":$,"show-file-list":!1,"before-upload":W},{default:q(()=>[C(h,{placement:"top-start",title:"上传",width:200,trigger:"hover",content:"上传图片作为封面图，大小200k内"},{reference:q(()=>[C(w,{class:"avatar-uploader-icon"},{default:q(()=>[C(j)]),_:1})]),_:1})]),_:1}),L.logo?(U(),O(h,{key:0,placement:"right",width:600,trigger:"hover"},{reference:q(()=>[C(T,{class:"logo pointer ml-10",src:L.logo},null,8,["src"])]),default:q(()=>[C(T,{src:L.logo},null,8,["src"])]),_:1})):z("",!0)]),_:1})]),_:1}),C(f,{prop:"domain",label:"网站域名"},{default:q(()=>[C(g,{modelValue:L.domain,"onUpdate:modelValue":p[2]||(p[2]=e=>L.domain=e)},null,8,["modelValue"])]),_:1}),C(f,{prop:"email",label:"站长邮箱"},{default:q(()=>[C(g,{modelValue:L.email,"onUpdate:modelValue":p[3]||(p[3]=e=>L.email=e),rules:[{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}]},null,8,["modelValue"])]),_:1}),C(f,{prop:"icp",label:"ICP备案号"},{default:q(()=>[C(g,{modelValue:L.icp,"onUpdate:modelValue":p[4]||(p[4]=e=>L.icp=e)},null,8,["modelValue"])]),_:1}),C(f,{prop:"code",label:"统计代码"},{default:q(()=>[C(g,{type:"textarea",rows:3,modelValue:L.code,"onUpdate:modelValue":p[5]||(p[5]=e=>L.code=e)},null,8,["modelValue"])]),_:1}),C(f,null,{default:q(()=>[C(K,{type:"primary",onClick:p[6]||(p[6]=e=>H(b.value))},{default:q(()=>p[12]||(p[12]=[S("保存")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),C(N,{label:"SEO设置",class:"mt-20",name:"second"},{default:q(()=>[C(M,{ref_key:"seoRef",ref:I,model:R,"label-width":"84px"},{default:q(()=>[C(f,{label:"标题",prop:"title",rules:[{required:!0,message:"请输入网站标题",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},{default:q(()=>[C(g,{modelValue:R.title,"onUpdate:modelValue":p[7]||(p[7]=e=>R.title=e)},null,8,["modelValue"])]),_:1}),C(f,{prop:"keywords",label:"关键词"},{default:q(()=>[C(g,{modelValue:R.keywords,"onUpdate:modelValue":p[8]||(p[8]=e=>R.keywords=e)},null,8,["modelValue"])]),_:1}),C(f,{prop:"description",label:"描述",rules:[{min:2,max:255,message:"字数限制255",trigger:"blur"}]},{default:q(()=>[C(g,{type:"textarea",rows:3,modelValue:R.description,"onUpdate:modelValue":p[9]||(p[9]=e=>R.description=e)},null,8,["modelValue"])]),_:1}),C(f,null,{default:q(()=>[C(K,{type:"primary",onClick:p[10]||(p[10]=e=>H(I.value))},{default:q(()=>p[13]||(p[13]=[S("保存")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),C(y),C(_),C(V)]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-f33275dc"]]))}}});
